{"version":3,"sources":["chartist-plugin-fill-donut.js"],"names":["window","document","Chartist","defaultOptions","fillClass","label","html","items","plugins","fillDonut","options","extend","chart","Pie","$chart","$","container","css","$svg","on","data","type","index","find","eq","$clone","group","_node","clone","attr","each","this","remove","removeAttr","prepend","$wrapper","item","class","id","content","position","offsetY","offsetX","length","append","cWidth","innerWidth","cHeight","height","wWidth","wHeight","style","bottom","left","top","right","center"],"mappings":"CAMC,SAASA,EAAQC,EAAUC,GACxB,YAEA,IAAIC,IACAC,UAAW,gBACXC,OACIC,KAAM,2CAEVC,WAGJL,GAASM,QAAUN,EAASM,YAC5BN,EAASM,QAAQC,UAAY,SAASC,GAElC,MADAA,GAAUR,EAASS,UAAWR,EAAgBO,GACvC,SAAmBE,GACtB,GAAGA,YAAiBV,GAASW,IAAK,CAC9B,GAAIC,GAASC,EAAEH,EAAMI,UACrBF,GAAOG,IAAI,WAAY,WACvB,IAAIC,EAEJN,GAAMO,GAAG,OAAQ,SAASC,GACtB,GAAgB,SAAbA,EAAKC,KAAgB,CACH,GAAdD,EAAKE,QACJJ,EAAOJ,EAAOS,KAAK,OAAOC,GAAG,GAEjC,IAAIC,GAASV,EAAEK,EAAKM,MAAMC,OAAOC,OACjCH,GAAOI,KAAK,QAASJ,EAAOI,KAAK,SAAW,IAAMnB,EAAQN,WAE1DqB,EAAOF,KAAK,QAAQO,KAAK,WACrBf,EAAEgB,MAAMR,KAAK,WAAWS,SACxBjB,EAAEgB,MAAME,WAAW,uBAGvBf,EAAKgB,QAAQT,MAKrBb,EAAMO,GAAG,UAAW,SAASC,GACzBL,EAAEe,KAAKpB,EAAQH,MAAO,WAClB,GAAI4B,GAAWpB,EAAEL,EAAQL,MAAMC,MAC3B8B,EAAOrB,EAAEJ,WACT0B,QAAQ,GACRC,GAAI,GACJC,QAAU,WACVC,SAAU,SACVC,QAAS,EACTC,QAAS,GACVX,KAEAK,GAAKE,GAAGK,OAAS,GAChBP,EAAKG,QAAQV,KAAK,KAAMO,EAAKE,IAC9BF,EAAAA,SAAWO,OAAS,GACnBP,EAAKG,QAAQV,KAAK,QAASO,EAAAA,UAE/BD,EAASS,OAAOR,EAAKG,SAAStB,KAC1BuB,SAAW,aAGf1B,EAAO8B,OAAOT,EAEd,IAAIU,GAAS/B,EAAOgC,aAAe,EAC/BC,EAAUjC,EAAOkC,SAAW,EAC5BC,EAASd,EAASW,aAAe,EACjCI,EAAUf,EAASa,SAAW,EAE9BG,GACAC,QACIA,OAAS,EAAIhB,EAAKK,QAClBY,KAAOR,EAASI,EAAUb,EAAKM,SAEnCY,KACIA,IAAM,EAAKlB,EAAKK,QAChBY,KAAOR,EAASI,EAAUb,EAAKM,SAEnCW,MACIC,IAAOP,EAAUG,EAAWd,EAAKK,QACjCY,KAAM,EAAIjB,EAAKM,SAEnBa,OACID,IAAOP,EAAUG,EAAWd,EAAKK,QACjCc,MAAO,EAAInB,EAAKM,SAEpBc,QACIF,IAAOP,EAAUG,EAAWd,EAAKK,QACjCY,KAAOR,EAASI,EAAUb,EAAKM,SAIvCP,GAASlB,IAAIkC,EAAMf,EAAKI,mBAO9CxC,OAAQC,SAAUC","file":"chartist-plugin-fill-donut.min.js","sourcesContent":["/**\r\n * Chartist.js plugin to pre fill donouts with animations\r\n * author: moxx\r\n * author-url: https://github.com/moxx/chartist-plugin-fill-donut\r\n *\r\n */\r\n(function(window, document, Chartist) {\r\n    'use strict';\r\n\r\n    var defaultOptions = {\r\n        fillClass: 'ct-fill-donut',\r\n        label : {\r\n            html: '<div class=\"ct-fill-donut-label\"></div>',\r\n        },\r\n        items : [{}]\r\n    };\r\n\r\n    Chartist.plugins = Chartist.plugins || {};\r\n    Chartist.plugins.fillDonut = function(options) {\r\n        options = Chartist.extend({}, defaultOptions, options);\r\n        return function fillDonut(chart){\r\n            if(chart instanceof Chartist.Pie) {\r\n                var $chart = $(chart.container);\r\n                $chart.css('position', 'relative');\r\n                var $svg;\r\n\r\n                chart.on('draw', function(data) {\r\n                    if(data.type == 'slice'){\r\n                        if(data.index == 0)\r\n                            $svg = $chart.find('svg').eq(0);\r\n\r\n                        var $clone = $(data.group._node).clone();\r\n                        $clone.attr('class', $clone.attr('class') + ' ' + options.fillClass);\r\n\r\n                        $clone.find('path').each(function(){\r\n                            $(this).find('animate').remove();\r\n                            $(this).removeAttr('stroke-dashoffset');\r\n                        });\r\n\r\n                        $svg.prepend($clone);\r\n\r\n                    }\r\n                });\r\n\r\n                chart.on('created', function(data){\r\n                    $.each(options.items, function(){\r\n                        var $wrapper = $(options.label.html);\r\n                        var item = $.extend({}, {\r\n                            class : '',\r\n                            id: '',\r\n                            content : 'fillText',\r\n                            position: 'center', //bottom, top, left, right\r\n                            offsetY: 0, //top, bottom in px\r\n                            offsetX: 0 //left, right in px\r\n                        }, this);\r\n\r\n                        if(item.id.length > 0)\r\n                            item.content.attr('id', item.id);\r\n                        if(item.class.length > 0)\r\n                            item.content.attr('class', item.class);\r\n\r\n                        $wrapper.append(item.content).css({\r\n                            position : 'absolute'\r\n                        });\r\n\r\n                        $chart.append($wrapper);\r\n\r\n                        var cWidth = $chart.innerWidth() / 2;\r\n                        var cHeight = $chart.height() / 2;\r\n                        var wWidth = $wrapper.innerWidth() / 2;\r\n                        var wHeight = $wrapper.height() / 2;\r\n\r\n                        var style = {\r\n                            bottom : {\r\n                                bottom : 0 + item.offsetY,\r\n                                left: (cWidth - wWidth) + item.offsetX,\r\n                            },\r\n                            top : {\r\n                                top : 0  + item.offsetY,\r\n                                left: (cWidth - wWidth) + item.offsetX,\r\n                            },\r\n                            left : {\r\n                                top : (cHeight - wHeight) + item.offsetY,\r\n                                left: 0 + item.offsetX,\r\n                            },\r\n                            right : {\r\n                                top : (cHeight - wHeight) + item.offsetY,\r\n                                right: 0 + item.offsetX,\r\n                            },\r\n                            center : {\r\n                                top : (cHeight - wHeight) + item.offsetY,\r\n                                left: (cWidth - wWidth) + item.offsetX,\r\n                            }\r\n                        };\r\n\r\n                        $wrapper.css(style[item.position]);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n}(window, document, Chartist));\r\n"],"sourceRoot":"/source/"}